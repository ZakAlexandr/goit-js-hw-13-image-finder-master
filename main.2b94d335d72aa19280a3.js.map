{"version":3,"sources":["webpack:///./photoCardTemplate.hbs","webpack:///./js/apiService.js","webpack:///./js/renderGallery.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","tags","largeImageURL","likes","views","comments","downloads","stack1","each","program","noop","page","apiServise","query","fetch","then","response","json","hits","catch","error","console","btn","document","querySelector","searchForm","galleryList","loadMore","searchQuery","value","length","PNotify","defaults","icons","text","delay","insertAdjacentHTML","gallery","setTimeout","window","scrollTo","top","scrollY","behavior","log","addEventListener","e","target","nodeName","instance","basicLightbox","dataset","source","show","onkeydown","key","close","preventDefault","innerHTML","images","validQuery"],"mappings":"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","file":"main.2b94d335d72aa19280a3.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"photo-card\\\">\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":45}}}) : helper)))\n    + \"\\\" data-source=\\\"\"\n    + alias4(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":60},\"end\":{\"line\":3,\"column\":77}}}) : helper)))\n    + \" class=\\\" card-img\\\" />\\n\\n\\n    <div class=\\\"stats\\\">\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\n            \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":12},\"end\":{\"line\":9,\"column\":21}}}) : helper)))\n    + \"\\n        </p>\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">visibility</i>\\n            \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":12},\"end\":{\"line\":13,\"column\":21}}}) : helper)))\n    + \"\\n        </p>\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">comment</i>\\n            \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":12},\"end\":{\"line\":17,\"column\":24}}}) : helper)))\n    + \"\\n        </p>\\n        <p class=\\\"stats-item\\\">\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\n            \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":12},\"end\":{\"line\":21,\"column\":25}}}) : helper)))\n    + \"\\n        </p>\\n    </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":25,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export default {\n  page: 1,\n  apiServise(query, page) {\n    const baseURL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal&';\n    const parameters = `&q=${query}&page=${page}&per_page=12`\n    const key = '&key=15737125-9731c193a08476753ed150b4b'\n    return fetch(baseURL + parameters + key)\n      .then((response) => {\n        return response.json()\n      })\n      .then((data => {\n        return data.hits\n      }))\n      .catch((error) => {\n        console.error(error)\n      });\n  }\n}\n","import PNotify from 'pnotify/dist/es/PNotify.js';\nimport 'pnotify/dist/es/PNotifyStyleMaterial.js';\nimport * as basicLightbox from 'basiclightbox';\nimport searchQuery from './apiService';\nimport gallery from '../photoCardTemplate.hbs';\n\nconst btn = document.querySelector('.btn-container');\nconst searchForm = document.querySelector('#search-form');\nconst galleryList = document.querySelector('.gallery');\ngalleryList.addEventListener('click', modal);\nsearchForm.addEventListener('submit', sendRequest);\n\nfunction loadMore() {\n  searchQuery\n    .apiServise(searchForm.query.value, ++searchQuery.page)\n    .then(data => {\n      if (!data.length) {\n        PNotify.defaults.icons = 'material';\n        PNotify.error({\n          text: 'This is all found on this request!',\n          delay: 1000,\n        });\n      }\n\n      galleryList.insertAdjacentHTML('beforeend', gallery(data));\n      setTimeout(() => {\n        window.scrollTo({\n          top: window.scrollY + 680,\n          behavior: 'smooth',\n        });\n      }, 1000);\n    })\n    .catch(error => console.log(error));\n}\n\nfunction sendRequest(e) {\n  e.preventDefault();\n  clearGalleryList();\n  searchQuery\n    .apiServise(searchForm.query.value, searchQuery.page)\n    .then(data => validQuery(data))\n    .catch(error => console.log(error));\n}\n\nfunction clearGalleryList() {\n  searchQuery.page = 1;\n  galleryList.innerHTML = '';\n  btn.innerHTML = '';\n}\n\nfunction modal(e) {\n  if (e.target.nodeName === 'IMG') {\n    const instance = basicLightbox.create(`\n    <div class=\"modal\">\n    <img class=\"lightbox-img\" src=${e.target.dataset.source} width=\"800\" height=\"600\">\n    </div>\n`);\n    instance.show();\n    document.onkeydown = function(e) {\n      if (e.key === 'Escape') {\n        instance.close();\n      }\n    };\n  }\n}\n\nfunction validQuery(images) {\n  if (!images.length) {\n    PNotify.defaults.icons = 'material';\n    PNotify.error({\n      text: 'Nothing found on this request',\n      delay: 2000,\n    });\n    return;\n  } else {\n    console.log(images);\n\n    galleryList.innerHTML = gallery(images);\n    btn.insertAdjacentHTML(\n      'afterbegin',\n      '<button class=\"load-more-btn\" id=\"js-load-more\">Load More</button>',\n    );\n    const loadMoreBtn = document.querySelector('#js-load-more');\n    loadMoreBtn.addEventListener('click', loadMore);\n  }\n}\n"],"sourceRoot":""}